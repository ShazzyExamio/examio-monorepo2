{"ast":null,"code":"import _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty2(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Toast from \"./toast\";\n\nvar ToastContainer = function (_Component) {\n  _inherits(ToastContainer, _Component);\n\n  var _super = _createSuper(ToastContainer);\n\n  function ToastContainer(props) {\n    var _this;\n\n    _classCallCheck(this, ToastContainer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"show\", function (message, toastOptions) {\n      var id = (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.id) || Math.random().toString();\n\n      var onDestroy = function onDestroy() {\n        (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.onClose) && (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.onClose());\n\n        _this.setState({\n          toasts: _this.state.toasts.filter(function (t) {\n            return t.id !== id;\n          })\n        });\n      };\n\n      requestAnimationFrame(function () {\n        _this.setState({\n          toasts: _this.state.toasts.filter(function (t) {\n            return t.id !== id;\n          })\n        });\n\n        _this.setState({\n          toasts: [_objectSpread(_objectSpread({\n            id: id,\n            onDestroy: onDestroy,\n            message: message,\n            open: true,\n            onHide: function onHide() {\n              return _this.hide(id);\n            }\n          }, _this.props), toastOptions)].concat(_toConsumableArray(_this.state.toasts))\n        });\n      });\n      return id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (id, message, toastOptions) {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (toast) {\n          return toast.id === id ? _objectSpread(_objectSpread({}, toast), {}, {\n            message: message\n          }, toastOptions) : toast;\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hide\", function (id) {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (t) {\n          return t.id === id ? _objectSpread(_objectSpread({}, t), {}, {\n            open: false\n          }) : t;\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideAll\", function () {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (t) {\n          return _objectSpread(_objectSpread({}, t), {}, {\n            open: false\n          });\n        })\n      });\n    });\n\n    _this.state = {\n      toasts: []\n    };\n    return _this;\n  }\n\n  _createClass(ToastContainer, [{\n    key: \"renderBottomToasts\",\n    value: function renderBottomToasts() {\n      var toasts = this.state.toasts;\n      var _this$props = this.props,\n          offset = _this$props.offset,\n          offsetBottom = _this$props.offsetBottom;\n      var style = {\n        bottom: offsetBottom || offset,\n        justifyContent: \"flex-end\",\n        flexDirection: \"column\"\n      };\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: Platform.OS === \"ios\" ? \"position\" : undefined,\n        style: [styles.container, style],\n        pointerEvents: \"box-none\"\n      }, toasts.filter(function (t) {\n        return !t.placement || t.placement === \"bottom\";\n      }).map(function (toast) {\n        return React.createElement(Toast, _extends({\n          key: toast.id\n        }, toast));\n      }));\n    }\n  }, {\n    key: \"renderTopToasts\",\n    value: function renderTopToasts() {\n      var toasts = this.state.toasts;\n      var _this$props2 = this.props,\n          offset = _this$props2.offset,\n          offsetTop = _this$props2.offsetTop;\n      var style = {\n        top: offsetTop || offset,\n        justifyContent: \"flex-start\",\n        flexDirection: \"column-reverse\"\n      };\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: Platform.OS === \"ios\" ? \"position\" : undefined,\n        style: [styles.container, style],\n        pointerEvents: \"box-none\"\n      }, toasts.filter(function (t) {\n        return t.placement === \"top\";\n      }).map(function (toast) {\n        return React.createElement(Toast, _extends({\n          key: toast.id\n        }, toast));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, this.renderTopToasts(), this.renderBottomToasts());\n    }\n  }]);\n\n  return ToastContainer;\n}(Component);\n\n_defineProperty(ToastContainer, \"defaultProps\", {\n  placement: \"bottom\",\n  offset: 10,\n  swipeEnabled: true\n});\n\nvar styles = StyleSheet.create({\n  container: _objectSpread({\n    flex: 0,\n    position: \"absolute\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    zIndex: 999999,\n    left: 0,\n    right: 0\n  }, Platform.OS === \"web\" ? {\n    overflow: \"hidden\"\n  } : null),\n  message: {\n    color: \"#333\"\n  }\n});\nexport default ToastContainer;","map":{"version":3,"sources":["toast-container.tsx"],"names":["ToastContainer","constructor","toasts","placement","offset","swipeEnabled","id","Math","onDestroy","toastOptions","t","requestAnimationFrame","message","open","onHide","toast","renderBottomToasts","offsetBottom","style","bottom","justifyContent","flexDirection","Platform","styles","renderTopToasts","offsetTop","top","render","container","flex","position","width","maxWidth","zIndex","left","right","overflow","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  ViewStyle,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n} from \"react-native\";\r\nimport Toast, { ToastOptions, ToastProps } from \"./toast\";\r\n\r\nexport interface Props extends ToastOptions {\r\n  renderToast?(toast: ToastProps): JSX.Element;\r\n  renderType?: { [type: string]: (toast: ToastProps) => JSX.Element };\r\n  offset?: number;\r\n  offsetTop?: number;\r\n  offsetBottom?: number;\r\n  swipeEnabled?: boolean;\r\n}\r\n\r\ninterface State {\r\n  toasts: Array<ToastProps>;\r\n}\r\n\r\nclass ToastContainer extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      toasts: [],\r\n    };\r\n  }\r\n\r\n  static defaultProps: Props = {\r\n    placement: \"bottom\",\r\n    offset: 10,\r\n    swipeEnabled: true,\r\n  };\r\n\r\n  /**\r\n   * Shows a new toast. Returns id\r\n   */\r\n  show = (message: string | JSX.Element, toastOptions?: ToastOptions) => {\r\n    let id = toastOptions?.id || Math.random().toString();\r\n    const onDestroy = () => {\r\n      toastOptions?.onClose && toastOptions?.onClose();\r\n      this.setState({ toasts: this.state.toasts.filter((t) => t.id !== id) });\r\n    };\r\n\r\n    requestAnimationFrame(() => {\r\n      this.setState({ toasts: this.state.toasts.filter((t) => t.id !== id) });\r\n      this.setState({\r\n        toasts: [\r\n          {\r\n            id,\r\n            onDestroy,\r\n            message,\r\n            open: true,\r\n            onHide: () => this.hide(id),\r\n            ...this.props,\r\n            ...toastOptions,\r\n          },\r\n          ...this.state.toasts,\r\n        ],\r\n      });\r\n    });\r\n\r\n    return id;\r\n  };\r\n\r\n  /**\r\n   * Updates a toast, To use this create you must pass an id to show method first, then pass it here to update the toast.\r\n   */\r\n  update = (\r\n    id: string,\r\n    message: string | JSX.Element,\r\n    toastOptions?: ToastOptions\r\n  ) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((toast) =>\r\n        toast.id === id ? { ...toast, message, ...toastOptions } : toast\r\n      ),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Removes a toast from stack\r\n   */\r\n  hide = (id: string) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((t) =>\r\n        t.id === id ? { ...t, open: false } : t\r\n      ),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Removes all toasts in stack\r\n   */\r\n  hideAll = () => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((t) => ({ ...t, open: false })),\r\n    });\r\n  };\r\n\r\n  renderBottomToasts() {\r\n    const { toasts } = this.state;\r\n    let { offset, offsetBottom } = this.props;\r\n    let style: ViewStyle = {\r\n      bottom: offsetBottom || offset,\r\n      justifyContent: \"flex-end\",\r\n      flexDirection: \"column\",\r\n    };\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        {toasts\r\n          .filter((t) => !t.placement || t.placement === \"bottom\")\r\n          .map((toast) => (\r\n            <Toast key={toast.id} {...toast} />\r\n          ))}\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n\r\n  renderTopToasts() {\r\n    const { toasts } = this.state;\r\n    let { offset, offsetTop } = this.props;\r\n    let style: ViewStyle = {\r\n      top: offsetTop || offset,\r\n      justifyContent: \"flex-start\",\r\n      flexDirection: \"column-reverse\",\r\n    };\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        {toasts\r\n          .filter((t) => t.placement === \"top\")\r\n          .map((toast) => (\r\n            <Toast key={toast.id} {...toast} />\r\n          ))}\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.renderTopToasts()}\r\n        {this.renderBottomToasts()}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 0,\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    zIndex: 999999,\r\n    left: 0,\r\n    right: 0,\r\n    ...(Platform.OS === \"web\" ? { overflow: \"hidden\" } : null),\r\n  },\r\n  message: {\r\n    color: \"#333\",\r\n  },\r\n});\r\n\r\nexport default ToastContainer;\r\n"]},"metadata":{},"sourceType":"module"}